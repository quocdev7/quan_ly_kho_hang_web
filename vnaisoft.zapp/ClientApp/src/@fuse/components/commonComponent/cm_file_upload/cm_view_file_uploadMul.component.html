<div class="flex flex-col flex-auto overflow-y-auto  overflow-x-auto">

    <!-- Header -->
    <div class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 sm:pl-8 bg-primary text-on-primary">
        <div class="text-lg font-medium">
            <span class="inline-flex items-center cursor-pointer">
                <span class="mr-3" (click)="close()">
                    <mat-icon class="secondary-text s-16 mt-2 text-white font-bold">keyboard_backspace</mat-icon>
                </span>
                <span transloco="view"></span>&nbsp;
                <span> {{record.title}}</span>
            </span>

        </div>

        <div align="right">
            <button class="z-20 w-8 h-8 min-h-8 " mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon class="text-white font-bold">more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu" xPosition="before">
                <button mat-menu-item (click)="showInfoDetails(true)">
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:information-circle'">
                    </mat-icon>
                    <span transloco="system.thong_tin_tai_lieu">
                    </span>
                </button>
                <button mat-menu-item (click)="downloadFile(file)">
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:document-download'">
                    </mat-icon>
                    <span transloco="system.download">
                    </span>
                </button>
                <button mat-menu-item (click)="close()">
                    <mat-icon class="icon-size-5">
                        close
                    </mat-icon>
                    <span transloco="system.close">
                    </span>
                </button>

            </mat-menu>
            <!-- <button class="z-20 w-8 h-8 min-h-8 "  mat-icon-button  (click)="close()">
                <mat-icon class="text-white font-bold">close</mat-icon>
            </button> -->

        </div>

    </div>

    <div class="flex  overflow-x-auto">
        <!-- Card form -->
        <div class="w-full lg:p-6 sm:p-3 md:py-6 p-3 px-2 space-y-1 overflow-y-auto">
            <!-- <div class="flex flex-col md:flex-row lg:flex-row md:space-x-4 flex-wrap">
                <div class="flex flex-col md:flex-row lg:flex-row md:space-x-4 flex-wrap" align="left">
                    <button  (click)="downloadFile(file.id,file.file_name)">
                        <a class="text-white shadow-none hover:bg-primary-700 uppercase"  style="background-color: #0d6efd;"
                            mat-raised-button target="_blank" >Tải về</a>
                        ({{formatSizeUnits(record.file_size)}})
                    </button>
                </div>
            </div> -->
            <div class="flex flex-col md:flex-row lg:flex-row md:space-x-4 flex-wrap">
                <div class="flex-1 mx-auto">
                    <!-- <h1 transloco="ho_tro_view_file_toi_da"></h1> -->
                    <iframe width="100%" height="{{innerHeight+'px'}}" [src]="srcfile | safe"></iframe>
                </div>
            </div>
            <br />

        </div>

        <div *ngIf="show_details == true" class="md:w-1/3 sm:w-4/5 w-full">

            <div class="flex flex-col flex-auto md:pt-4 pt-2 sm:pr-4 pr-1  lg:pr-8" *ngIf="file!=null">
                <div class="flex justify-between items-center">
                    <div>
                        <span class="font-bold">Chi tiết</span>
                    </div>
                    <div class="flex justify-end">
                        <mat-icon *ngIf="show_details == true" class="md:icon-size-6 icon-size-5"
                            [svgIcon]="'heroicons_solid:x-circle'" (click)="showInfoDetails(false)"></mat-icon>
                    </div>
                </div>
                <hr class="my-2 p-0 font-bold text-black">
                <!-- Preview -->
                <div class="aspect-w-9 aspect-h-6">
                    <div class="flex items-center justify-center border rounded-lg bg-gray-50 dark:bg-card">
                        <img class="w-20 h-20" [src]="getFontAwesomeIconFromMIME(file.file_type)" alt="">
                    </div>
                </div>
                <!-- Name & Type -->
                <div class="flex justify-between items-center">
                    <div class="lg:text-xl sm:text-lg text-base font-medium">{{file.file_name}}</div>
                    <!-- <div class="mt-8" *ngIf="file.id_admin == file.user_login">
                        <button mat-icon-button=""
                            class="mdc-icon-button mat-mdc-icon-button mat-unthemed mat-mdc-button-base"
                            (click)="openDialogEditFile(file)">
                            <span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span>
                            <mat-icon svgIcon="heroicons_solid:pencil"></mat-icon>
                            <span class="mat-mdc-focus-indicator"></span>
                            <span matripple="" class="mat-ripple mat-mdc-button-ripple"></span>
                            <span class="mat-mdc-button-touch-target"></span>
                        </button>
                    </div> -->
                </div>


                <div class="flex justify-between items-center">
                    <div class="lg:text-lg sm:text-base text-sm font-medium md:mt-8 mt-6" transloco="system.info"></div>
                    <!-- <div class="md:mt-8 mt-6">
                        <mat-icon class="icon-size-6" [svgIcon]="'heroicons_solid:arrow-narrow-down'"></mat-icon>
                    </div> -->
                </div>
                <div class="flex flex-col lg:text-lg sm:text-base text-sm mt-4 border-t border-b divide-y font-medium">
                    <div class="flex items-center justify-between py-3">
                        <div class="text-secondary" transloco="system.create_by"></div>
                        <div>{{file.ten_nguoi_cap_nhat}}</div>
                    </div>
                    <div class="flex items-center justify-between py-3">
                        <div class="text-secondary" transloco="system.create_date"></div>
                        <div>{{file.ngay_cap_nhat | date: 'dd/MM/yyyy HH:mm'}}</div>
                    </div>
                    <div class="flex items-center justify-between py-3">
                        <div class="text-secondary" transloco="file_size"></div>
                        <div>{{formatSizeUnits(file.file_size)}}</div>
                    </div>
                </div>
                <!-- Description -->
                <ng-container *ngIf="file.description_file!=null&& file.description_file!=''">

                    <div class="flex justify-between items-center">
                        <div class="lg:text-lg sm:text-base text-sm font-medium mt-8" transloco="system.mo_ta"></div>

                    </div>
                    <div class="flex flex-col mt-4 border-t border-b divide-y font-medium">
                        <div class="flex items-center justify-between py-3">
                            <div [innerHtml]="file.description_file | safeHtml"></div>
                        </div>
                    </div>
                </ng-container>
                <!-- Actions -->
                <div class="grid grid-cols-2 gap-4 w-full mt-8" align="right">
                    <!-- <a [href]="file.db.file_path">
                    <button mat-raised-button class="rounded py-2 px-4 font-bold item2s-center"
                        style="background-color: #0d6efd;" transloco="system.download">
                    </button>
                </a> -->
                    <button></button>
                    <!-- <button mat-stroked-button (click)="downloadFile(file.id,file.file_name)"
                        style="background-color: #0d6efd;">
                        <p transloco="system.download" class="mb-0 text-white"></p>
                    </button> -->

                    <!-- <button *ngIf="file.id_admin ==file.user_login" (click)="delete_file(file.id,2)" class="flex-auto"
                        mat-stroked-button transloco="system.delete">
                    </button> -->
                </div>
            </div>
        </div>
    </div>
    <div class="flex flex-row justify-end space-x-2 pr-3 sm:pr-5 pl-6 sm:pl-8 mb-4">
        <!-- <button>
            ({{formatSizeUnits(record.file_size)}})
            <a class="bg-primary-600 text-white shadow-none hover:bg-primary-700 uppercase" mat-raised-button
                target="_blank" href="{{record.url_download}}" transloco="download"></a>
        </button> -->
        <button class="py-2 px-4 font-bold rounded bg-teal-500  hover:bg-teal-600  item2s-center" (click)="close()">
            <p transloco="close" class="mb-0 text-white"></p>
        </button>
    </div>
</div>